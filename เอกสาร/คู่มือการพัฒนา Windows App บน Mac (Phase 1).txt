🛠️ คู่มือการพัฒนา "พี่โล่" Windows App บนเครื่อง Mac
เนื่องจากเราใช้ Mac ในการพัฒนาแต่ต้องการผลลัพธ์เป็น .exe สำหรับ Windows โดยมี ZeroClaw + LLM เป็นหัวใจหลัก นี่คือขั้นตอนการเตรียมการครับ
1. การเตรียมสภาพแวดล้อมบน Mac (Environment Setup)
ถึงแม้เป้าหมายจะเป็น Windows แต่คุณต้องติดตั้งเครื่องมือบน Mac เพื่อให้ Compile โค้ดและทดสอบแอปเวอร์ชั่น Mac ได้ก่อน:
* [ ] Rust & Cargo: ติดตั้งผ่าน curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
* [ ] Node.js & NPM: สำหรับจัดการ UI (React/Next.js)
* [ ] Xcode Command Line Tools: จำเป็นสำหรับการ Compile ระบบหลังบ้าน
2. โครงสร้าง "ZeroClaw Sidecar" (The Secret Sauce)
ใน Tauri เราจะใช้ระบบ Sidecar เพื่อรัน ZeroClaw Engine เป็น Process แยกต่างหาก ซึ่งจะทำให้เราไม่ต้องลง Python ในเครื่องลูกค้า:
* [ ] Binary Preparation: * คุณต้องมีไฟล์ ZeroClaw เวอร์ชั่น Mac (สำหรับทดสอบในเครื่องคุณ)
   * คุณต้องเตรียมไฟล์ ZeroClaw เวอร์ชั่น Windows (สำหรับตอน Build เป็น .exe)
* [ ] Folder Structure: วางไฟล์ไว้ใน src-tauri/binaries/
   * zeroclaw-x86_64-pc-windows-msvc.exe (สำหรับ Windows)
   * zeroclaw-x86_64-apple-darwin (สำหรับ Mac ของคุณ)
3. ระบบ Bundled LLM (สมองของพี่โล่)
เนื่องจากเราจะไม่ให้ผู้ใช้ติดตั้งเอง เราจะคุมระบบดาวน์โหลดผ่านโปรแกรม:
* [ ] Model Hosting: ฝากไฟล์โมเดลเฉพาะทาง (เช่น piloh-v1.gguf) ไว้บน Server หรือ Cloud Storage
* [ ] First-run Logic: เขียนโค้ดใน Rust (Tauri) ให้เช็คว่าในโฟลเดอร์แอปมีไฟล์โมเดลหรือยัง? ถ้ายังไม่มี ให้แสดงหน้าจอ "กำลังดาวน์โหลดสมอง..." ใน UI
* [ ] Local Path: เก็บโมเดลไว้ใน AppData/Local/PiLoh/models (บน Windows) หรือ Application Support/PiLoh/models (บน Mac)
4. วิธีการทดสอบและ Build (Testing & Pipeline)
* การทดสอบบน Mac: ใช้คำสั่ง npm run tauri dev เพื่อดูหน้าตา UI และทดสอบการคุยกับ AI (ผ่าน ZeroClaw เวอร์ชั่น Mac)
* การ Build เป็น .exe: เนื่องจาก Mac ไม่สามารถสร้างไฟล์ Windows แบบ Native ได้โดยตรง (ยกเว้นใช้ VM) วิธีที่ง่ายที่สุดคือใช้ GitHub Actions:
   1. ดันโค้ดขึ้น GitHub
   2. ใช้ Workflow ของ Tauri (Official)
   3. GitHub จะเปิดเครื่อง Windows เสมือนขึ้นมาเพื่อ Compile โค้ดของคุณและส่งไฟล์ .exe กลับมาให้คุณดาวน์โหลดไปแจกจ่าย
💡 ขั้นตอนแรกที่ต้องทำวันนี้ (Immediate Steps)
1. สร้างโปรเจกต์ Tauri: ใช้คำสั่ง npm create tauri-app@latest
2. Setup Sidecar: ลองนำไฟล์ Binary ง่ายๆ มาวางและเรียกใช้งานผ่าน Rust ให้ได้ก่อน
3. Draft Chat UI: ใช้ไฟล์ pi_loh_app.html ที่เรามีเป็นพื้นฐานในการสร้างหน้าแชทใน React/Next.js